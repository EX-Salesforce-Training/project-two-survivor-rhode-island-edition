<aura:component controller="ExamQController" implements="forceCommunity:availableForAllPageTypes">
    
        <aura:registerEvent name="SubmitAnswers" type="c:SubmitAnswerEvent" />
        
        <aura:handler name="init" value="{!this}" action="{!c.getInfo}" />
        <aura:handler name="StudentAnswer" event="c:StudentAnswerEvent" action="{!c.handleCompEvent}" />
        
        <aura:attribute name="selection" type="Student_Answer__c[]" />
        <aura:attribute name="examNumber" type="string" default="Admin 1" />
        <aura:attribute name="examqs" type="Exam_Question__c[]" />
        <lightning:card>
        <lightning:layout class="slds-page-header slds-page-header_object-home">
            <lightning:layoutItem>
                <lightning:icon iconName="standard:document" />
            </lightning:layoutItem>
            <lightning:layoutItem padding="horizontal-small">
                <div class="page-section page-header">
                    <h1 class="slds-text-heading_label">Questions</h1>
                    <h2 class="slds-text-hedaing_medium">Exam Questions</h2>
                </div>
            </lightning:layoutItem>
        </lightning:layout>
        <lightning:layout>
            <lightning:layoutItem padding="around-small" size="6">
                <div aria-labelledby="newExamform">
                    <fieldset class="slds-box slds-theme_default slds-container_small">
                        <legend id="newExamform" class="slds-text-heading_small slds-p-vertical_medium">
                            {!v.examNumber}
                        </legend>
                        <form class="slds-form_stacked">
                            <aura:iteration items="{!v.examqs}" var="question">
                                <lightning:formattedText value="{!question.Question__r.Question_Body__c}" />
                                <c:AnswerCmp studId="{!question.Id}"/>
                            </aura:iteration>
                            <lightning:button  variant="brand" label="Submit Answers" onclick="{!c.submitans}" />
                        </form>
                    </fieldset>
                </div>
            </lightning:layoutItem>
        </lightning:layout>
    </lightning:card>
</aura:component>